<!DOCTYPE html>
<html>
<head>
  <title>Gherkin Runner</title>

  <!--    <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap-responsive.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet">-->
  <link href="vendor/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="gherkinRunner.css" rel="stylesheet">

  <!-- include source files here... -->
  <script type="text/javascript" src="vendor/jquery/dist/jquery.js"></script>
  <script type="text/javascript" src="vendor/knockout/dist/knockout.js"></script>
  <script type="text/javascript" src="vendor/bootstrap/dist/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="scripts/jquery.address-1.6.js"></script>
  <script type="text/javascript" src="vendor/cajon/cajon.js"></script>
</head>

<body>
<iframe id="uitestwindow" width="100%" height="100%" style="display: none"></iframe>
<iframe id="apitestwindow" width="100%" height="100%" style="display: none"></iframe>

<div id="gherkin-walker-ui" class="container-fluid" data-bind="visible: view() == 'Walking'">
  <h2>Features Outline</h2>

  <div>
    <button class="btn btn-default" data-bind="visible: featureSets().length > 0, click: $root.toggleWalking">Back to Running!
    </button>
  </div>
  <div id="walking-feature-sets" class="feature-sets"
       data-bind="template: { name: 'featureSetWalkingTemplate', data: rootFeatureSet }">
  </div>
  <div id="walking-selections" class="alert alert-info">
    <div>Selected Feature Sets</div>
    <ul data-bind="foreach: selectedFeatureSets">
      <li>
        <button class="btn btn-link" data-bind="click: $root.toggleFeatureSetSelection"><i class="fa fa-remove"></i>
        </button>
        <span data-bind="text: name"></span>
      </li>
    </ul>
    <div>Selected Features</div>
    <ul data-bind="foreach: selectedFeatures">
      <li>
        <button class="btn btn-link" data-bind="click: $root.toggleFeatureSelection"><i class="fa fa-remove"></i>
        </button>
        <span data-bind="text: name"></span>
      </li>
    </ul>
    <button class="btn btn-primary"
            data-bind="visible: featureSetPaths().length > 0 || featurePaths().length > 0, click: load">Load
    </button>
  </div>
</div>

<div id="gherkin-ui" class="container-fluid" data-bind="visible: view() == 'Running'">
  <div class="row">
    <div id="gherkin-counts" class="counts"
         data-bind="template: { name: 'countsTemplate', data: counts }, css: { faded: uiWindowVisible }"></div>
    <div class="runOverview col-md-offset-4 col-md-5" data-bind="template: { name: 'runOverviewTemplate', data: $data }"></div>
    <div class="action-buttons pull-right">
      <button class="btn btn-primary" data-bind="click: run"><i class="fa fa-play"></i>&nbsp;Run</button>
      <button class="btn btn-default" data-bind="click: load"><i class="fa fa-refresh"></i>&nbsp;Reload</button>
    </div>
    <div id="gherkin-toggle-ui-button" data-bind="css: { faded: uiWindowVisible }">
      <div class="btn-group">
        <button class="btn btn-sm" data-bind="click: toggleUI">Toggle UI</button>
        <button class="btn btn-sm" data-bind="click: $root.toggleUIButtonMove">&nbsp;
          <i class="fa fa-angle-double-right" data-bind="visible: $root.toggleUIButtonPosition() === 'left'"></i>
          <i class="fa fa-angle-double-left" data-bind="visible: $root.toggleUIButtonPosition() === 'right'"></i></button>
      </div>
      <button class="btn btn-warning" data-bind="click: cancel"><i class="fa fa-stop"></i>&nbsp;Cancel</button>
      <button class="btn btn-warning" data-bind="click: pauseOrUnPause, visible: paused"">
        <i class="fa fa-play"></i>&nbsp;Continue</button>
      <button class="btn btn-warning" data-bind="click: pauseOrUnPause, visible: !paused()">
        <i class="fa fa-pause"></i>&nbsp;Pause</button>
    </div>
  </div>
  <div id="break-on-exception">
    <button class="btn btn-default" title="Currently NOT breaking on exceptions"
       data-bind="visible: !breakOnException(), click: toggleOnException">
      <i class="fa fa-bug fa-large faded"></i>
    </button>
    <button class="btn btn-default" title="Currently breaking on exceptions"
       data-bind="visible: breakOnException(), click: toggleOnException">
      <i class="fa fa-bug fa-large text-danger"></i>
    </button>
  </div>
  <!-- ko if: loaded -->
  <div id="details">
    <div id="feature-sets" class="feature-sets panel-group"
         data-bind="template: { name: 'featureSetTemplate', foreach: loadedFeatureSets }">
    </div>
    <!-- ko if: recommendedMethods().length > 0 -->
    <div id="recommended-methods">
      <div>Recommended Library Methods:</div>
      <pre><code data-bind="foreach: recommendedMethods"><span data-bind="text: $data"></span></code></pre>
    </div>
    <!-- /ko -->
  </div>
  <!-- /ko -->
</div>

<script type="text/html" id="featureSetWalkingTemplate">
  <div class="feature-set">
    <div class="title hover hover-highlighted">
      <div class="icons">
        <div class="icon-column">
        </div>
      </div>
      <div data-bind="attr: { 'class': 'name walking-level' + level }">
        <a href="javascript:void();"
           data-bind="click: $root.toggleFeatureSetSelection">
          <i data-bind="visible: selected" class="fa fa-check text-success" title="Feature set selected"></i>
          <i data-bind="visible: !selected()" class="fa fa-check-empty" title="Select feature set"></i>
        </a>
        <a href="javascript:void();"
           data-bind="click: $root.walkFeatureSet">
          <strong class="inline" data-bind="text: name, css: { 'text-success': selected }"></strong>
          &nbsp;<span data-bind="text: featureSetPaths?featureSetPaths.length:0"></span>&nbsp;/&nbsp;<span
          data-bind="text: featurePaths?featurePaths.length:0"></span>
        </a>
      </div>
    </div>
    <div class="body" data-bind="visible: expanded">
      <div data-bind="visible: features().length > 0">
        <div class="icons">
          <div class="icon-column">
          </div>
        </div>
        <div
          data-bind="visible: features().length > 0, attr: { 'class': 'section-title inline walking-level' + (level + 1) }">
          Features
        </div>
      </div>
      <div data-bind="template: { name: 'featureWalkingTemplate', foreach: features }">
      </div>
      <div data-bind="visible: featureSets().length > 0">
        <div class="icons">
          <div class="icon-column">
          </div>
        </div>
        <div data-bind="attr: { 'class': 'section-title inline walking-level' + (level + 1) }">Feature Sets</div>
      </div>
      <div data-bind="template: { name: 'featureSetWalkingTemplate', foreach: featureSets }">
      </div>
    </div>
  </div>
</script>

<script type="text/html" id="featureWalkingTemplate">
  <div>
    <div class="title hover hover-highlighted">
      <div class="icons">
        <div class="icon-column">
        </div>
      </div>
      <div data-bind="attr: { 'class': 'name walking-level' + level }">
        <a href="javascript:void();"
           data-bind="click: function() { $root.toggleFeatureSelection($data, $parent); }">
          <i data-bind="visible: selected" class="fa fa-check text-success" title="Feature set selected"></i>
          <i data-bind="visible: !selected()" class="fa fa-check-empty" title="Select feature set"></i>
        </a>
        <a data-bind="text: name, click: $root.addFeaturePath, css: { 'text-success': selected }"></a>
      </div>
    </div>
  </div>
</script>

<script type="text/html" id="countsTemplate">
  <table class="table table-bordered table-striped table-condensed table-very-condensed">
    <tbody>
    <tr>
      <td>
        <button class="btn btn-sm" data-bind="click: $root.countsMove">
          <i class="fa fa-angle-double-right" data-bind="visible: $root.countsPosition() === 'left'"></i>
          <i class="fa fa-angle-double-left" data-bind="visible: $root.countsPosition() === 'right'"></i></button>
      </td>
      <td>
        <small><strong>Defined</strong></small>
      </td>
      <td>
        <small><strong>Missing</strong></small>
      </td>
      <td>
        <small><strong>Total</strong></small>
      </td>
      <td>
        <small><strong>Run</strong></small>
      </td>
      <td>
        <small><strong>Pass</strong></small>
      </td>
      <td>
        <small><strong>Fail</strong></small>
      </td>
      <td>
        <small><strong>Skipped</strong></small>
      </td>
    </tr>
    <tr>
      <td>
        <small><strong>Feature Sets</strong></small>
      </td>
      <td>
        <small data-bind="text: featureSets.defined"></small>
      </td>
      <td></td>
      <td>
        <small data-bind="text: featureSets.total"></small>
      </td>
      <td>
        <small data-bind="text: featureSets.run"></small>
      </td>
      <td>
        <small data-bind="text: featureSets.pass"></small>
      </td>
      <td>
        <small data-bind="text: featureSets.fail"></small>
      </td>
      <td>
        <small data-bind="text: featureSets.skip"></small>
      </td>
    </tr>
    <tr>
      <td>
        <small><strong>Features</strong></small>
      </td>
      <td>
        <small data-bind="text: features.defined"></small>
      </td>
      <td></td>
      <td>
        <small data-bind="text: features.total"></small>
      </td>
      <td>
        <small data-bind="text: features.run"></small>
      </td>
      <td>
        <small data-bind="text: features.pass"></small>
      </td>
      <td>
        <small data-bind="text: features.fail"></small>
      </td>
      <td>
        <small data-bind="text: features.skip"></small>
      </td>
    </tr>
    <tr>
      <td>
        <small><strong>Backgrounds</strong></small>
      </td>
      <td>
        <small data-bind="text: backgrounds.defined"></small>
      </td>
      <td></td>
      <td>
        <small data-bind="text: backgrounds.total"></small>
      </td>
      <td>
        <small data-bind="text: backgrounds.run"></small>
      </td>
      <td>
        <small data-bind="text: backgrounds.pass"></small>
      </td>
      <td>
        <small data-bind="text: backgrounds.fail"></small>
      </td>
      <td>
        <small data-bind="text: backgrounds.skip"></small>
      </td>
    </tr>
    <tr>
      <td>
        <small><strong>Scenarios</strong></small>
      </td>
      <td>
        <small data-bind="text: scenarios.defined"></small>
      </td>
      <td></td>
      <td>
        <small data-bind="text: scenarios.total"></small>
      </td>
      <td>
        <small data-bind="text: scenarios.run"></small>
      </td>
      <td>
        <small data-bind="text: scenarios.pass"></small>
      </td>
      <td>
        <small data-bind="text: scenarios.fail"></small>
      </td>
      <td>
        <small data-bind="text: scenarios.skip"></small>
      </td>
    </tr>
    <tr>
      <td>
        <small><strong>Steps</strong></small>
      </td>
      <td>
        <small data-bind="text: steps.defined"></small>
      </td>
      <td>
        <small data-bind="text: steps.missingMethods"></small>
      </td>
      <td>
        <small data-bind="text: steps.total"></small>
      </td>
      <td>
        <small data-bind="text: steps.run"></small>
      </td>
      <td>
        <small data-bind="text: steps.pass"></small>
      </td>
      <td>
        <small data-bind="text: steps.fail"></small>
      </td>
      <td>
        <small data-bind="text: steps.skip"></small>
      </td>
    </tr>
    <tr>
      <td>
        <small><strong>Sub Steps</strong></small>
      </td>
      <td>
        <small data-bind="text: subSteps.defined"></small>
      </td>
      <td>
        <small data-bind="text: subSteps.missingMethods"></small>
      </td>
      <td>
        <small data-bind="text: subSteps.total"></small>
      </td>
      <td>
        <small data-bind="text: subSteps.run"></small>
      </td>
      <td>
        <small data-bind="text: subSteps.pass"></small>
      </td>
      <td>
        <small data-bind="text: subSteps.fail"></small>
      </td>
      <td>
        <small data-bind="text: subSteps.skip"></small>
      </td>
    </tr>
    </tbody>
  </table>
</script>

<script type="text/html" id="runOverviewTemplate">
  <div class="well" data-bind="css: { 'alert-success': runResult() === 1, 'alert-danger': runResult() === -1 }">
    <div class="row">
      <button class="col-md-3 btn btn-default pull-left" data-bind="click: $root.toggleWalking">Walk It</button>
      <span class="col-md-2 text-right">Status: </span>
      <span class="col-md-7 clip" data-bind="text: status"></span>
    </div>
    <div class="row">
      <button class="col-md-3 btn btn-default pull-left" data-bind="click: $root.linkToPage">Link It</button>
      <span class="col-md-2 text-right">Message: </span>
      <span class="col-md-7 clip" data-bind="text: statusMessage"></span>
    </div>
    <div class="row">
      <h5 class="col-md-7 col-md-offset-5" data-bind="visible: runResult() === 1">Run Passed!!</h5>
      <h5 class="col-md-7 col-md-offset-5" data-bind="visible: runResult() === -1">Run Failed!!</h5>
    </div>
    <div class="row" data-bind="with: runningFeatureSet">
      <span class="col-md-5 text-right">Running Feature Set: </span>
      <span class="col-md-7 clip" data-bind="text: name"></span>
    </div>
    <div class="row" data-bind="with: runningFeature">
      <span class="col-md-5 text-right">Running Feature: </span>
      <span class="col-md-7 clip" data-bind="text: name"></span>
    </div>
    <div class="row" data-bind="with: runningScenario">
      <span class="col-md-5 text-right">Running Scenario/Background: </span>
      <span class="col-md-7 clip" data-bind="text: name"></span>
    </div>
    <div class="row" data-bind="with: runningStep">
      <span class="col-md-5 text-right">Running Step: </span>
      <span class="col-md-7 clip" data-bind="text: name"></span>
    </div>
    <div class="row" data-bind="with: runningSubStep">
      <span class="col-md-5 text-right">Running Sub Step: </span>
      <span class="col-md-7 clip one-line" data-bind="text: name"></span>
    </div>
  </div>
</script>

<script type="text/html" id="featureSetTemplate">
  <div class="feature-set panel panel-default">
    <div class="title panel-heading">
      <div class="name panel-title">
        <h4>
          <a data-toggle="collapse" data-bind="attr: { 'data-parent': $parent ? $parent.id : '#feature-sets', href: '#feature_set_body_' + id }">
            <div class="inline">Feature Set:</div>
            <div class="inline" data-bind="text: name"></div>
          </a>
        </h4>
      </div>
    </div>
    <div class="body panel-collapse collapse in" data-bind="attr: { id: 'feature_set_body_' + id }">
      <div class="panel-body">
        <div class="panel-group"
             data-bind="attr: { id: 'feature_set_features_' + id }, template: { name: 'featureTemplate', foreach: features }">
        </div>
        <div class="section sub-features"
             data-bind="attr: { id: 'feature_set_feature_sets_' + id }, template: { name: 'featureSetTemplate', foreach: featureSets }">
        </div>
      </div>
    </div>
  </div>
</script>

<script type="text/html" id="featureTemplate">
  <div class="feature panel panel-default">
    <div class="title panel-heading">
      <div class="icons">
        <div class="icon-column">
          <a href="javascript:void();"
             data-bind="visible: hasChildBreakpoint, click: $root.setBreakpoint">
            <i class="fa fa-circle text-danger faded" title="Remove breakpoint"></i>
          </a>
        </div>
        <div class="icon-column">
          <i class="fa fa-ok-circle text-success faded" title="Passed" data-bind="visible: lastRunResult() === 1"></i>
          <i class="fa fa-remove-sign text-danger faded" title="Failed" data-bind="visible: lastRunResult() === -1"></i>
          <i class="fa fa-question faded" title="Skipped" data-bind="visible: lastRunResult() === 0"></i>
          <i class="fa fa-adjust text-warning faded" title="Canceled" data-bind="visible: lastRunResult() === 2"></i>
        </div>
        <div class="icon-column">
          <i class="fa fa-ok-circle text-success" title="Passed" data-bind="visible: runResult() === 1"></i>
          <i class="fa fa-remove-sign text-danger" title="Failed" data-bind="visible: runResult() === -1"></i>
          <i class="fa fa-question" title="Skipped" data-bind="visible: runResult() === 0"></i>
          <i class="fa fa-adjust text-warning" title="Canceled" data-bind="visible: runResult() === 2"></i>
        </div>
        <div class="icon-column">
          <i class="fa fa-ban-circle text-danger" title="Missing Child Methods"
             data-bind="visible: missingChildMethods"></i>
        </div>
      </div>
      <div class="name panel-title">
        <a data-toggle="collapse"
           data-bind="attr: { href: '#feature_' + id,'data-parent': 'feature_set_features_' + $parent.id }">
          <span><strong
            data-bind="text: 'Feature: ' + name, css: { 'text-danger': missingChildMethods || runResult() === -1 }"></strong>
          </span>
        </a>
      </div>
    </div>
    <div class="body panel-collapse collapse in" data-bind="attr: { id: 'feature_' + id }">
      <div class="panel-body">
        <div data-bind="foreach: description">
          <div class="feature-description" data-bind="text: line"></div>
        </div>
        <div data-bind="template: { name: 'scenarioTemplate', foreach: backgrounds }">
        </div>
        <div data-bind="template: { name: 'scenarioTemplate', foreach: scenarios }">
        </div>
        <div data-bind="template: { name: 'stepGroupTemplate', foreach: stepGroups }">
        </div>
      </div>
    </div>
  </div>
</script>

<script type="text/html" id="scenarioTemplate">
  <div class="scenario">
    <div class="title hover hover-highlighted">
      <div class="icons" data-bind="css: { example: exampleArg != null }">
        <div class="icon-column">
          <a href="javascript:void();"
             data-bind="visible: hasChildBreakpoint, click: $root.setBreakpoint">
            <i class="fa fa-circle text-muted text-danger faded" title="Remove breakpoint"></i>
          </a>
        </div>
        <div class="icon-column">
          <a class="accordion-toggle collapsed" data-toggle="collapse"
             data-bind="attr: { 'data-target': '#' + id }">
            <i class="fa fa-ok-circle text-success faded" title="Passed" data-bind="visible: lastRunResult() === 1"></i>
            <i class="fa fa-remove-sign text-danger faded" title="Failed" data-bind="visible: lastRunResult() === -1"></i>
            <i class="fa fa-question text-muted faded" title="Skipped" data-bind="visible: lastRunResult() === 0"></i>
            <i class="fa fa-adjust text-warning text-muted faded" title="Canceled"
               data-bind="visible: lastRunResult() === 2"></i>
          </a>
        </div>
        <div class="icon-column">
          <a class="accordion-toggle collapsed" data-toggle="collapse"
             data-bind="attr: { 'data-target': '#' + id }">
            <i class="fa fa-ok-circle text-success" title="Passed" data-bind="visible: runResult() === 1"></i>
            <i class="fa fa-remove-sign text-danger" title="Failed" data-bind="visible: runResult() === -1"></i>
            <i class="fa fa-question" title="Skipped" data-bind="visible: runResult() === 0"></i>
            <i class="fa fa-adjust text-warning" title="Canceled" data-bind="visible: runResult() === 2"></i>
          </a>
        </div>
        <div class="icon-column">
          <a class="accordion-toggle collapsed" data-toggle="collapse"
             data-bind="attr: { 'data-target': '#' + id }">
            <i class="fa fa-ban-circle text-danger" title="Missing Child Methods"
               data-bind="visible: missingChildMethods"></i>
          </a>
        </div>
        <div class="icon-column">
          <a class="hover-visible" href="javascript:void();" data-bind="click: $root.runSingleScenarioAndResetState">
            <i class="fa fa-play-circle text-info" title="Reset State and Run"></i>
          </a>
        </div>
        <div class="icon-column">
          <a class="hover-visible" href="javascript:void();" data-bind="click: $root.runSingleScenario">
            <i class="fa fa-play-sign text-info" title="Run with Existing State"></i>
          </a>
        </div>
      </div>
      <div class="name">
        <a class="accordion-toggle collapsed" data-toggle="collapse"
           data-bind="attr: { 'data-target': '#' + id }">
          <code class="preserve-space example-arg-value"
                data-bind="visible: exampleArgDisplay, text: exampleArgDisplay"></code>
          <strong>
            <div class="inline scenario-name"
                 data-bind="visible: !exampleArgDisplay, text: type.substring(0,1).toUpperCase() + type.substring(1) + ': ' + name, css: { 'text-danger': missingChildMethods || runResult() == -1 }"></div>
          </strong>
        </a>
      </div>
    </div>
    <div class="body collapse"
         data-bind="attr: { id: id }">
      <div data-bind="template: { name: 'stepTemplate', foreach: steps }">
      </div>
      <!-- ko if: scenarios !== undefined && scenarios().length > 0 -->
      <div class="section-title">Examples</div>
      <div>
        <div>
          <strong><code class="preserve-space example-arg-columns"
                        data-bind="text: exampleArgColumnsDisplay"></code></strong>
        </div>
        <!-- ko template: { name: 'scenarioTemplate', foreach: scenarios } -->
        <!-- /ko -->
      </div>
      <!-- /ko -->
    </div>
  </div>
</script>

<script type="text/html" id="stepTemplate">
  <div
    data-bind="css: { substep: stepOwner.type == 'step', step: stepOwner.type != 'step', outline: outline, example: stepOwner.exampleArg != null || (stepOwner.stepOwner && stepOwner.stepOwner.exampleArg != null) }">
    <div class="title hover hover-highlighted">
      <div class="icons">
        <div class="icon-column breakpoint">
          <a class="hover-visible" href="javascript:void();"
             data-bind="visible: !breakpoint() && !hasChildBreakpoint() && !outline, click: $root.setBreakpoint">
            <i class="fa fa-circle-blank text-muted" title="Add breakpoint"></i>
          </a>
          <a href="javascript:void();"
             data-bind="visible: (breakpoint() || hasChildBreakpoint()) && !outline, click: $root.setBreakpoint">
            <i class="fa fa-circle text-muted text-danger" title="Remove breakpoint"></i>
          </a>
        </div>
        <div class="icon-column run-result">
          <i class="fa fa-ok-circle text-success faded" title="Passed" data-bind="visible: lastRunResult() === 1"></i>
          <a class="accordion-toggle collapsed" data-toggle="collapse" href="javascript:void();"
             data-bind="attr: { 'data-target': '#' + id + '_error' }, visible: lastRunResult() === -1">
            <i class="fa fa-remove-sign text-danger faded" title="Failed"></i>
          </a>
          <i class="fa fa-question faded" title="Skipped" data-bind="visible: lastRunResult() === 0"></i>
          <i class="fa fa-adjust text-warning" title="Canceled" data-bind="visible: lastRunResult() === 2"></i>
        </div>
        <div class="icon-column last-run-result">
          <i class="fa fa-ok-circle text-success" title="Passed" data-bind="visible: runResult() === 1"></i>
          <a class="accordion-toggle collapsed" data-toggle="collapse" href="javascript:void();"
             data-bind="attr: { 'data-target': '#' + id + (subSteps().length > 0 ? '' : '_error') }, visible: runResult() === -1">
            <i class="fa fa-remove-sign text-danger" title="Failed"></i>
          </a>
          <i class="fa fa-question" title="Skipped" data-bind="visible: runResult() === 0"></i>
          <i class="fa fa-adjust text-warning" title="Canceled" data-bind="visible: runResult() === 2"></i>
        </div>
        <div class="icon-column missing-method">
          <i class="fa fa-ban-circle text-danger" title="Missing Method" data-bind="visible: missingMethod"></i>
          <i class="fa fa-ban-circle text-danger" title="Missing Child Methods"
             data-bind="visible: missingChildMethods"></i>
        </div>
        <div class="icon-column info">
          <a class="accordion-toggle collapsed hover-visible" data-toggle="collapse" href="javascript:void();"
             data-bind="attr: { 'data-target': '#' + id + '_info' }">
            <i class="fa fa-info-sign" title="Step Information"></i>
          </a>
        </div>
      </div>
      <div class="name">
        <!-- ko if: $data.subSteps().length > 0 -->
        <a class="collapsed" data-toggle="collapse" href="javascript:void();"
           data-bind="attr: { 'data-target': '#' + id }">
          <div data-bind="css: { 'text-danger': missingChildMethods || missingMethod }">
            <span data-bind="text: name" class="step-group"></span><span
              data-bind="visible: runCondition, text: ' if(' + runCondition + ')'"></span>
          </div>
        </a>
        <!-- /ko -->
        <!-- ko if: $data.subSteps().length === 0-->
        <div data-bind="css: { 'text-danger': missingChildMethods || missingMethod }">
          <span data-bind="text: name, css: {'step-group': methodName === 'Step Group'}"></span><span
            data-bind="visible: runCondition, text: ' if(' + runCondition + ')'"></span>
        </div>
        <!-- /ko -->
      </div>
    </div>
    <div class="body">
      <div class="details info collapse" data-bind="attr: { id: id + '_info' }">
        <div class="well well-small indented">
          <small>
            <div>
              <span>Library: </span><code data-bind="text: libraryName"></code>
            </div>
            <div>
              <span>Method Name: </span><code data-bind="text: libraryMethodName"></code>
            </div>
            <div>
              <span>Method: </span><pre><code data-bind="text: method ? method.toString() : ''"></code></pre>
            </div>
          </small>
        </div>
      </div>
      <div class="error info collapse" data-bind="attr: { id: id + '_error' }, with: error">
        <div class="alert alert-danger">
          <small data-bind="if: $data.stack != undefined">
            <pre data-bind="text: stack"></pre>
          </small>
          <small data-bind="if: $data.responseText != undefined">
            <pre data-bind="text: responseText"></pre>
          </small>
          <!-- ko if: $data.entityErrors -->
          <!-- ko foreach: $data.entityErrors -->
          <small>
            <pre data-bind="text: errorMessage"></pre>
          </small>
          <!-- /ko -->
          <!-- /ko -->
        </div>
      </div>
      <!-- ko if: $data.subSteps().length > 0 -->
      <div class="subSteps collapse"
           data-bind="attr: { id: id }, template: { name: 'stepTemplate', foreach: subSteps }">
      </div>
      <!-- /ko -->
      <!-- ko if: $data.multiLineArg !== undefined && $data.multiLineArg.length > 0 -->
      <div class="table-arg"
           data-bind="css: { substep: stepOwner.type == 'step', example: stepOwner.exampleArg != null }">
        <pre><code data-bind="text: $data.multiLineArg.join('\n')"></code></pre>
      </div>
      <!-- /ko -->
      <!-- ko if: $data.tableArg !== undefined && $data.tableArg.length > 0 -->
      <div class="table-arg"
           data-bind="css: { substep: stepOwner.type == 'step', example: stepOwner.exampleArg != null }">
        <table class="table table-bordered table-striped table-condensed table-very-condensed">
          <thead>
          <tr data-bind="foreach: tableArgColumns">
            <th>
              <small data-bind="text: $data"></small>
            </th>
          </tr>
          </thead>
          <tbody data-bind="foreach: tableArgArray">
          <tr data-bind="foreach: $data">
            <td>
              <small data-bind="text: $data"></small>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
      <!-- /ko -->
    </div>
  </div>
</script>

<script type="text/html" id="stepGroupTemplate">
  <div class="step-group">
    <div class="title hover hover-highlighted">
      <div class="icons">
        <div class="icon-column">
          <i class="fa fa-ban-circle text-danger" data-bind="visible: missingChildMethods "></i>
        </div>
      </div>
      <div class="name">
        <a class="accordion-toggle collapsed" data-toggle="collapse" href="javascript:void();"
           data-bind="attr: { 'data-target': '#' + id }">
          <span data-bind="text: 'Step Group: ' + name, css: { 'text-danger': missingChildMethods }"></span>
          (<span data-bind="text: used, attr: {title: 'Used ' + used + ' times'}"></span>)
        </a>
      </div>
    </div>
    <div class="body collapse"
         data-bind="attr: { id: id }">
      <div class="steps" data-bind="template: { name: 'stepTemplate', foreach: steps }">
      </div>
    </div>
  </div>
</script>

<script type="text/html" id="recommendedMethod">
  <div class="recommended-method">
  </div>
</script>

<script type="text/javascript">
  $(document).ready(function () {
    requirejs.onError = function (err) {
      var errorMsg = "error: "+err+"\n"+err.stack;
      console.log(err);
      console.log(errorMsg);
      alert(errorMsg);
    };
    require.config({ baseUrl: "/" });
    require(["gherkin-runner/gherkinRunner"/*, "../GherkinRunnerConfiguration?noExt"*/], function (gherkinRunner, config) {
      //$.restfulBreeze.setRootUrl(config.apiUrl);
      gherkinRunner.addFeaturesFromUrl();
      //gherkinRunner.config = config;
      gherkinRunner.walk();
    });
  });
</script>
</body>
</html>
