<!DOCTYPE html>
<html>
<head>
  <title>Gherkin Runner</title>

  <!--    <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap-responsive.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet">-->
  <link href="content/bootstrap.min.css" rel="stylesheet">
  <link href="content/bootstrap-responsive.min.css" rel="stylesheet">
  <link href="content/font-awesome.min.css" rel="stylesheet">
  <link href="gherkinRunner.css" rel="stylesheet">

  <!-- include source files here... -->
  <!--    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/knockout/2.3.0/knockout-min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/knockout.mapping/2.3.5/knockout.mapping.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="../Scripts/jquery.address-1.6.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/q.js/0.9.6/q.min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.8/require.js"></script>-->
  <script type="text/javascript" src="scripts/jquery-2.0.3.min.js"></script>
  <script type="text/javascript" src="scripts/knockout-2.3.0.js"></script>
  <script type="text/javascript" src="scripts/knockout.mapping-latest.js"></script>
  <script type="text/javascript" src="scripts/bootstrap.min.js"></script>
  <script type="text/javascript" src="scripts/jquery.address-1.6.js"></script>
  <script type="text/javascript" src="scripts/q.min.js"></script>
  <script type="text/javascript" src="scripts/breeze.debug.js"></script>
  <script type="text/javascript" src="scripts/jquery.address-1.6.js"></script>
  <script type="text/javascript" src="scripts/jquery.leonardoMD.restfulBreeze.js"></script>
  <script type="text/javascript" src="vendor/cajon/cajon.js"></script>
</head>

<body>
<iframe id="uitestwindow" width="100%" height="100%" style="display: none"></iframe>
<iframe id="apitestwindow" width="100%" height="100%" style="display: none"></iframe>

<div id="gherkin-walker-ui" class="container-fluid" data-bind="visible: view() == 'Walking'">
  <h2>Features Outline</h2>

  <div>
    <button class="btn" data-bind="visible: featureSets().length > 0, click: $root.toggleWalking">Back to Running!
    </button>
  </div>
  <div id="walking-feature-sets" class="feature-sets"
       data-bind="template: { name: 'featureSetWalkingTemplate', data: rootFeatureSet }">
  </div>
  <div id="walking-selections" class="alert alert-info">
    <div>Selected Feature Sets</div>
    <ul data-bind="foreach: selectedFeatureSets">
      <li>
        <button class="btn btn-link" data-bind="click: $root.toggleFeatureSetSelection"><i class="icon icon-remove"></i>
        </button>
        <span data-bind="text: name"></span>
      </li>
    </ul>
    <div>Selected Features</div>
    <ul data-bind="foreach: selectedFeatures">
      <li>
        <button class="btn btn-link" data-bind="click: $root.toggleFeatureSelection"><i class="icon icon-remove"></i>
        </button>
        <span data-bind="text: name"></span>
      </li>
    </ul>
    <button class="btn btn-primary"
            data-bind="visible: featureSetPaths().length > 0 || featurePaths().length > 0, click: load">Load
    </button>
  </div>
</div>

<div id="gherkin-ui" class="container-fluid" data-bind="visible: view() == 'Running'">
  <div class="row-fluid">
    <div id="gherkin-counts" class="counts"
         data-bind="template: { name: 'countsTemplate', data: counts }, css: { faded: uiWindowVisible }"></div>
    <div class="runOverview offset4 span5" data-bind="template: { name: 'runOverviewTemplate', data: $data }"></div>
    <div class="action-buttons pull-right">
      <a class="btn btn-primary" data-bind="click: run" href="javascript:void()"><i class="icon icon-play"></i>&nbsp;Run</a>
      <a class="btn btn" data-bind="click: load" href="javascript:void()"><i class="icon icon-refresh"></i>&nbsp;Reload</a>
    </div>
    <div id="gherkin-toggle-ui-button" data-bind="css: { faded: uiWindowVisible }">
      <div class="btn-group">
        <a class="btn btn-small" data-bind="click: toggleUI" href="javascript:void()">Toggle UI</a>
        <a class="btn btn-small" data-bind="click: $root.toggleUIButtonMove">&nbsp;<i class="icon-double-angle-right"
                                                                                      data-bind="    visible: $root.toggleUIButtonPosition() === 'left'"></i>
          <i class="icon-double-angle-left" data-bind="visible: $root.toggleUIButtonPosition() === 'right'"></i></a>
      </div>
      <a class="btn btn-warning" data-bind="click: cancel" href="javascript:void()"><i class="icon icon-stop"></i>&nbsp;Cancel</a>
      <a class="btn btn-warning" data-bind="click: pauseOrUnPause, visible: paused" href="javascript:void()"><i
        class="icon icon-play"></i>&nbsp;Continue</a>
      <a class="btn btn-warning" data-bind="click: pauseOrUnPause, visible: !paused()" href="javascript:void()"><i
        class="icon icon-pause"></i>&nbsp;Pause</a>
    </div>
  </div>
  <div id="break-on-exception">
    <a href="javascript:void()" title="Currently NOT breaking on exceptions"
       data-bind="visible: !breakOnException(), click: toggleOnException">
      <i class="icon-bug icon-large faded"></i>
    </a>
    <a href="javascript:void()" title="Currently breaking on exceptions"
       data-bind="visible: breakOnException(), click: toggleOnException">
      <i class="icon-bug icon-large text-error"></i>
    </a>
  </div>
  <!-- ko if: loaded -->
  <div id="feature-sets" class="feature-sets"
       data-bind="template: { name: 'featureSetTemplate', foreach: loadedFeatureSets }">
  </div>
  <!-- /ko -->
</div>

<script type="text/html" id="featureSetWalkingTemplate">
  <div class="feature-set">
    <div class="title hover hover-highlighted">
      <div class="icons">
        <div class="icon-column">
        </div>
      </div>
      <div data-bind="attr: { 'class': 'name walking-level' + level }">
        <a href="javascript:void();"
           data-bind="click: $root.toggleFeatureSetSelection">
          <i data-bind="visible: selected" class="icon-check text-success" title="Feature set selected"></i>
          <i data-bind="visible: !selected()" class="icon-check-empty" title="Select feature set"></i>
        </a>
        <a href="javascript:void();"
           data-bind="click: $root.walkFeatureSet">
          <strong class="inline" data-bind="text: name, css: { 'text-success': selected }"></strong>
          &nbsp;<span data-bind="text: featureSetPaths.length"></span>&nbsp;/&nbsp;<span
          data-bind="    text: featurePaths.length"></span>
        </a>
      </div>
    </div>
    <div class="body" data-bind="visible: expanded">
      <div data-bind="visible: featureSets().length > 0">
        <div class="icons">
          <div class="icon-column">
          </div>
        </div>
        <div data-bind="attr: { 'class': 'section-title inline walking-level' + (level + 1) }">Feature Sets</div>
      </div>
      <div data-bind="template: { name: 'featureSetWalkingTemplate', foreach: featureSets }">
      </div>
      <div data-bind="visible: features().length > 0">
        <div class="icons">
          <div class="icon-column">
          </div>
        </div>
        <div
          data-bind="visible: features().length > 0, attr: { 'class': 'section-title inline walking-level' + (level + 1) }">
          Features
        </div>
      </div>
      <div data-bind="template: { name: 'featureWalkingTemplate', foreach: features }">
      </div>
    </div>
  </div>
</script>

<script type="text/html" id="featureWalkingTemplate">
  <div>
    <div class="title hover hover-highlighted">
      <div class="icons">
        <div class="icon-column">
        </div>
      </div>
      <div data-bind="attr: { 'class': 'name walking-level' + level }">
        <a href="javascript:void();"
           data-bind="click: function() { $root.toggleFeatureSelection($data, $parent); }">
          <i data-bind="visible: selected" class="icon-check text-success" title="Feature set selected"></i>
          <i data-bind="visible: !selected()" class="icon-check-empty" title="Select feature set"></i>
        </a>
        <a data-bind="text: name, click: $root.addFeaturePath, css: { 'text-success': selected }"></a>
      </div>
    </div>
  </div>
</script>

<script type="text/html" id="countsTemplate">
  <table class="table table-bordered table-striped table-condensed table-very-condensed">
    <tbody>
    <tr>
      <td>
        <a class="btn" data-bind="click: $root.countsMove">
          <i class="icon-double-angle-right" data-bind="visible: $root.countsPosition() === 'left'"></i>
          <i class="icon-double-angle-left" data-bind="visible: $root.countsPosition() === 'right'"></i></a>
      </td>
      <td>
        <small><strong>Defined</strong></small>
      </td>
      <td>
        <small><strong>Missing</strong></small>
      </td>
      <td>
        <small><strong>Total</strong></small>
      </td>
      <td>
        <small><strong>Run</strong></small>
      </td>
      <td>
        <small><strong>Pass</strong></small>
      </td>
      <td>
        <small><strong>Fail</strong></small>
      </td>
      <td>
        <small><strong>Skipped</strong></small>
      </td>
    </tr>
    <tr>
      <td>
        <small><strong>Feature Sets</strong></small>
      </td>
      <td>
        <small data-bind="text: featureSets.defined"></small>
      </td>
      <td></td>
      <td>
        <small data-bind="text: featureSets.total"></small>
      </td>
      <td>
        <small data-bind="text: featureSets.run"></small>
      </td>
      <td>
        <small data-bind="text: featureSets.pass"></small>
      </td>
      <td>
        <small data-bind="text: featureSets.fail"></small>
      </td>
      <td>
        <small data-bind="text: featureSets.skip"></small>
      </td>
    </tr>
    <tr>
      <td>
        <small><strong>Features</strong></small>
      </td>
      <td>
        <small data-bind="text: features.defined"></small>
      </td>
      <td></td>
      <td>
        <small data-bind="text: features.total"></small>
      </td>
      <td>
        <small data-bind="text: features.run"></small>
      </td>
      <td>
        <small data-bind="text: features.pass"></small>
      </td>
      <td>
        <small data-bind="text: features.fail"></small>
      </td>
      <td>
        <small data-bind="text: features.skip"></small>
      </td>
    </tr>
    <tr>
      <td>
        <small><strong>Backgrounds</strong></small>
      </td>
      <td>
        <small data-bind="text: backgrounds.defined"></small>
      </td>
      <td></td>
      <td>
        <small data-bind="text: backgrounds.total"></small>
      </td>
      <td>
        <small data-bind="text: backgrounds.run"></small>
      </td>
      <td>
        <small data-bind="text: backgrounds.pass"></small>
      </td>
      <td>
        <small data-bind="text: backgrounds.fail"></small>
      </td>
      <td>
        <small data-bind="text: backgrounds.skip"></small>
      </td>
    </tr>
    <tr>
      <td>
        <small><strong>Scenarios</strong></small>
      </td>
      <td>
        <small data-bind="text: scenarios.defined"></small>
      </td>
      <td></td>
      <td>
        <small data-bind="text: scenarios.total"></small>
      </td>
      <td>
        <small data-bind="text: scenarios.run"></small>
      </td>
      <td>
        <small data-bind="text: scenarios.pass"></small>
      </td>
      <td>
        <small data-bind="text: scenarios.fail"></small>
      </td>
      <td>
        <small data-bind="text: scenarios.skip"></small>
      </td>
    </tr>
    <tr>
      <td>
        <small><strong>Steps</strong></small>
      </td>
      <td>
        <small data-bind="text: steps.defined"></small>
      </td>
      <td>
        <small data-bind="text: steps.missingMethods"></small>
      </td>
      <td>
        <small data-bind="text: steps.total"></small>
      </td>
      <td>
        <small data-bind="text: steps.run"></small>
      </td>
      <td>
        <small data-bind="text: steps.pass"></small>
      </td>
      <td>
        <small data-bind="text: steps.fail"></small>
      </td>
      <td>
        <small data-bind="text: steps.skip"></small>
      </td>
    </tr>
    <tr>
      <td>
        <small><strong>Sub Steps</strong></small>
      </td>
      <td>
        <small data-bind="text: subSteps.defined"></small>
      </td>
      <td>
        <small data-bind="text: subSteps.missingMethods"></small>
      </td>
      <td>
        <small data-bind="text: subSteps.total"></small>
      </td>
      <td>
        <small data-bind="text: subSteps.run"></small>
      </td>
      <td>
        <small data-bind="text: subSteps.pass"></small>
      </td>
      <td>
        <small data-bind="text: subSteps.fail"></small>
      </td>
      <td>
        <small data-bind="text: subSteps.skip"></small>
      </td>
    </tr>
    </tbody>
  </table>
</script>

<script type="text/html" id="runOverviewTemplate">
  <div class="well" data-bind="css: { 'alert-success': runResult() === 1, 'alert-error': runResult() === -1 }">
    <div class="row-fluid">
      <button class="span3 btn pull-left" data-bind="click: $root.toggleWalking">Walk It</button>
      <span class="span2 text-right">Status: </span>
      <span class="span7 clip" data-bind="text: status"></span>
    </div>
    <div class="row-fluid">
      <button class="span3 btn pull-left" data-bind="click: $root.linkToPage">Link It</button>
      <span class="span2 text-right">Message: </span>
      <span class="span7 clip" data-bind="text: statusMessage"></span>
    </div>
    <div class="row-fluid">
      <h5 class="span7 offset5" data-bind="visible: runResult() === 1">Run Passed!!</h5>
      <h5 class="span7 offset5" data-bind="visible: runResult() === -1">Run Failed!!</h5>
    </div>
    <div class="row-fluid" data-bind="with: runningFeatureSet">
      <span class="span5 text-right">Running Feature Set: </span>
      <span class="span7 clip" data-bind="text: name"></span>
    </div>
    <div class="row-fluid" data-bind="with: runningFeature">
      <span class="span5 text-right">Running Feature: </span>
      <span class="span7 clip" data-bind="text: name"></span>
    </div>
    <div class="row-fluid" data-bind="with: runningScenario">
      <span class="span5 text-right">Running Scenario/Background: </span>
      <span class="span7 clip" data-bind="text: name"></span>
    </div>
    <div class="row-fluid" data-bind="with: runningStep">
      <span class="span5 text-right">Running Step: </span>
      <span class="span7 clip" data-bind="text: name"></span>
    </div>
    <div class="row-fluid" data-bind="with: runningSubStep">
      <span class="span5 text-right">Running Sub Step: </span>
      <span class="span7 clip one-line" data-bind="text: name"></span>
    </div>
  </div>
</script>

<script type="text/html" id="featureSetTemplate">
  <div class="feature-set">
    <div class="title">
      <div class="name">
        <h4>
          <div class="inline">Feature Set:</div>
          <div class="inline" data-bind="text: name"></div>
        </h4>
      </div>
    </div>
    <div class="body">
      <div class="section sub-features" data-bind="template: { name: 'featureSetTemplate', foreach: featureSets }">
      </div>
      <div id="featuresAccordian" class="accordian"
           data-bind="template: { name: 'featureTemplate', foreach: features }">
      </div>
    </div>
  </div>
</script>

<script type="text/html" id="featureTemplate">
  <div class="feature accordion-group">
    <div class="title accordion-heading">
      <div class="icons">
        <div class="icon-column">
          <a href="javascript:void();"
             data-bind="visible: hasChildBreakpoint, click: $root.setBreakpoint">
            <i class="icon-circle text-error faded" title="Remove breakpoint"></i>
          </a>
        </div>
        <div class="icon-column">
          <i class="icon-ok-circle text-success faded" title="Passed" data-bind="visible: lastRunResult() === 1"></i>
          <i class="icon-remove-sign text-error faded" title="Failed" data-bind="visible: lastRunResult() === -1"></i>
          <i class="icon-question faded" title="Skipped" data-bind="visible: lastRunResult() === 0"></i>
          <i class="icon-adjust text-warning faded" title="Canceled" data-bind="visible: lastRunResult() === 2"></i>
        </div>
        <div class="icon-column">
          <i class="icon-ok-circle text-success" title="Passed" data-bind="visible: runResult() === 1"></i>
          <i class="icon-remove-sign text-error" title="Failed" data-bind="visible: runResult() === -1"></i>
          <i class="icon-question" title="Skipped" data-bind="visible: runResult() === 0"></i>
          <i class="icon-adjust text-warning" title="Canceled" data-bind="visible: runResult() === 2"></i>
        </div>
        <div class="icon-column">
          <i class="icon-ban-circle text-error" title="Missing Child Methods"
             data-bind="visible: missingChildMethods"></i>
        </div>
      </div>
      <div class="name">
        <a class="accordion-toggle" data-toggle="collapse"
           data-bind="attr: { href: '#feature_' + $index(), 'data-target': '#feature_' + $index() }">
                        <span><strong
                          data-bind="text: name, css: { 'text-error': missingChildMethods || runResult() === -1 }"></strong>
                        </span>
        </a>
      </div>
    </div>
    <div class="body accordion-body collapse in" data-bind="attr: { id: 'feature_' + $index() }">
      <div class="accordion-inner">
        <div data-bind="foreach: description">
          <div class="feature-description" data-bind="text: line"></div>
        </div>
        <div class="section-title">Feature Backgrounds</div>
        <div data-bind="template: { name: 'scenarioTemplate', foreach: backgrounds }">
        </div>
        <div class="section-title">Scenarios</div>
        <div data-bind="template: { name: 'scenarioTemplate', foreach: scenarios }">
        </div>
        <div class="section-title">Step Groups</div>
        <div data-bind="template: { name: 'stepGroupTemplate', foreach: stepGroups }">
        </div>
      </div>
    </div>
  </div>
</script>

<script type="text/html" id="scenarioTemplate">
  <div class="scenario">
    <div class="title hover hover-highlighted">
      <div class="icons" data-bind="css: { example: exampleArg != null }">
        <div class="icon-column">
          <a href="javascript:void();"
             data-bind="visible: hasChildBreakpoint, click: $root.setBreakpoint">
            <i class="icon-circle muted text-error faded" title="Remove breakpoint"></i>
          </a>
        </div>
        <div class="icon-column">
          <a class="accordion-toggle collapsed" data-toggle="collapse"
             data-bind="attr: { 'data-target': '#' + id }">
            <i class="icon-ok-circle text-success faded" title="Passed" data-bind="visible: lastRunResult() === 1"></i>
            <i class="icon-remove-sign text-error faded" title="Failed" data-bind="visible: lastRunResult() === -1"></i>
            <i class="icon-question muted faded" title="Skipped" data-bind="visible: lastRunResult() === 0"></i>
            <i class="icon-adjust text-warning muted faded" title="Canceled"
               data-bind="visible: lastRunResult() === 2"></i>
          </a>
        </div>
        <div class="icon-column">
          <a class="accordion-toggle collapsed" data-toggle="collapse"
             data-bind="attr: { 'data-target': '#' + id }">
            <i class="icon-ok-circle text-success" title="Passed" data-bind="visible: runResult() === 1"></i>
            <i class="icon-remove-sign text-error" title="Failed" data-bind="visible: runResult() === -1"></i>
            <i class="icon-question" title="Skipped" data-bind="visible: runResult() === 0"></i>
            <i class="icon-adjust text-warning" title="Canceled" data-bind="visible: runResult() === 2"></i>
          </a>
        </div>
        <div class="icon-column">
          <a class="accordion-toggle collapsed" data-toggle="collapse"
             data-bind="attr: { 'data-target': '#' + id }">
            <i class="icon-ban-circle text-error" title="Missing Child Methods"
               data-bind="visible: missingChildMethods"></i>
          </a>
        </div>
        <div class="icon-column">
          <a class="hover-visible" href="javascript:void();" data-bind="click: $root.runSingleScenarioAndResetState">
            <i class="icon-play-circle text-info" title="Reset State and Run"></i>
          </a>
        </div>
        <div class="icon-column">
          <a class="hover-visible" href="javascript:void();" data-bind="click: $root.runSingleScenario">
            <i class="icon-play-sign text-info" title="Run with Existing State"></i>
          </a>
        </div>
      </div>
      <div class="name">
        <a class="accordion-toggle collapsed" data-toggle="collapse"
           data-bind="attr: { 'data-target': '#' + id }">
          <code class="preserve-space example-arg-value"
                data-bind="visible: exampleArgDisplay, text: exampleArgDisplay"></code>
          <strong>
            <div class="inline scenario-name"
                 data-bind="visible: !exampleArgDisplay, text: name, css: { 'text-error': missingChildMethods || runResult() == -1 }"></div>
          </strong>
        </a>
      </div>
    </div>
    <div class="body collapse"
         data-bind="attr: { id: id }">
      <div data-bind="template: { name: 'stepTemplate', foreach: steps }">
      </div>
      <!-- ko if: scenarios !== undefined && scenarios().length > 0 -->
      <div class="section-title">Examples</div>
      <div>
        <div>
          <strong><code class="preserve-space example-arg-columns"
                        data-bind="text: exampleArgColumnsDisplay"></code></strong>
        </div>
        <!-- ko template: { name: 'scenarioTemplate', foreach: scenarios } -->
        <!-- /ko -->
      </div>
      <!-- /ko -->
    </div>
  </div>
</script>

<script type="text/html" id="stepTemplate">
  <div
    data-bind="css: { substep: stepOwner.type == 'step', step: stepOwner.type != 'step', example: stepOwner.exampleArg != null || (stepOwner.stepOwner && stepOwner.stepOwner.exampleArg != null) }">
    <div class="title hover hover-highlighted">
      <div class="icons">
        <div class="icon-column breakpoint">
          <a class="hover-visible" href="javascript:void();"
             data-bind="visible: !breakpoint() && !hasChildBreakpoint() && !outline, click: $root.setBreakpoint">
            <i class="icon-circle-blank muted" title="Add breakpoint"></i>
          </a>
          <a href="javascript:void();"
             data-bind="visible: (breakpoint() || hasChildBreakpoint()) && !outline, click: $root.setBreakpoint">
            <i class="icon-circle muted text-error" title="Remove breakpoint"></i>
          </a>
        </div>
        <div class="icon-column run-result">
          <i class="icon-ok-circle text-success faded" title="Passed" data-bind="visible: lastRunResult() === 1"></i>
          <a class="accordion-toggle collapsed" data-toggle="collapse" href="javascript:void();"
             data-bind="attr: { 'data-target': '#' + id + '_error' }, visible: lastRunResult() === -1">
            <i class="icon-remove-sign text-error faded" title="Failed"></i>
          </a>
          <i class="icon-question faded" title="Skipped" data-bind="visible: lastRunResult() === 0"></i>
          <i class="icon-adjust text-warning" title="Canceled" data-bind="visible: lastRunResult() === 2"></i>
        </div>
        <div class="icon-column last-run-result">
          <i class="icon-ok-circle text-success" title="Passed" data-bind="visible: runResult() === 1"></i>
          <a class="accordion-toggle collapsed" data-toggle="collapse" href="javascript:void();"
             data-bind="attr: { 'data-target': '#' + id + (subSteps().length > 0 ? '' : '_error') }, visible: runResult() === -1">
            <i class="icon-remove-sign text-error" title="Failed"></i>
          </a>
          <i class="icon-question" title="Skipped" data-bind="visible: runResult() === 0"></i>
          <i class="icon-adjust text-warning" title="Canceled" data-bind="visible: runResult() === 2"></i>
        </div>
        <div class="icon-column missing-method">
          <i class="icon-ban-circle text-error" title="Missing Method" data-bind="visible: missingMethod"></i>
          <i class="icon-ban-circle text-error" title="Missing Child Methods"
             data-bind="visible: missingChildMethods"></i>
        </div>
        <div class="icon-column info">
          <a class="accordion-toggle collapsed hover-visible" data-toggle="collapse" href="javascript:void();"
             data-bind="attr: { 'data-target': '#' + id + '_info' }">
            <i class="icon-info-sign" title="Step Information"></i>
          </a>
        </div>
      </div>
      <div class="name">
        <!-- ko if: $data.subSteps().length > 0 -->
        <a class="collapsed" data-toggle="collapse" href="javascript:void();"
           data-bind="attr: { 'data-target': '#' + id }">
          <div data-bind="css: { 'text-error': missingChildMethods || missingMethod }">
            <span data-bind="text: name"></span><span
            data-bind="    visible: runCondition, text: ' if(' + runCondition + ')'"></span>
          </div>
        </a>
        <!-- /ko -->
        <!-- ko if: $data.subSteps().length === 0-->
        <div data-bind="css: { 'text-error': missingChildMethods || missingMethod }">
          <span data-bind="text: name"></span><span
          data-bind="visible: runCondition, text: ' if(' + runCondition + ')'"></span>
        </div>
        <!-- /ko -->
      </div>
    </div>
    <div class="body">
      <div class="details info collapse" data-bind="attr: { id: id + '_info' }">
        <div class="well well-small indented">
          <small>
            <div>
              <span>Library: </span><code data-bind="text: libraryName"></code>
            </div>
            <div>
              <span>Method: </span><code data-bind="text: libraryMethodName"></code>
            </div>
          </small>
        </div>
      </div>
      <div class="error info collapse" data-bind="attr: { id: id + '_error' }, with: error">
        <div class="alert alert-error">
          <small data-bind="if: $data.stack != undefined">
            <pre data-bind="text: stack"></pre>
          </small>
          <small data-bind="if: $data.responseText != undefined">
            <pre data-bind="text: responseText"></pre>
          </small>
          <!-- ko if: $data.entityErrors -->
          <!-- ko foreach: $data.entityErrors -->
          <small>
            <pre data-bind="text: errorMessage"></pre>
          </small>
          <!-- /ko -->
          <!-- /ko -->
        </div>
      </div>
      <!-- ko if: $data.subSteps().length > 0 -->
      <div class="subSteps collapse"
           data-bind="attr: { id: id }, template: { name: 'stepTemplate', foreach: subSteps }">
      </div>
      <!-- /ko -->
      <!-- ko if: $data.multiLineArg !== undefined && $data.multiLineArg().length > 0 -->
      <div class="table-arg"
           data-bind="css: { substep: stepOwner.type == 'step', example: stepOwner.exampleArg != null }">
        <pre><code data-bind="text: $data.multiLineArg().join('\n')"></code></pre>
      </div>
      <!-- /ko -->
      <!-- ko if: $data.tableArg !== undefined && $data.tableArg.length > 0 -->
      <div class="table-arg"
           data-bind="css: { substep: stepOwner.type == 'step', example: stepOwner.exampleArg != null }">
        <table class="table table-bordered table-striped table-condensed table-very-condensed">
          <thead>
          <tr data-bind="foreach: tableArgColumns">
            <th>
              <small data-bind="text: $data"></small>
            </th>
          </tr>
          </thead>
          <tbody data-bind="foreach: tableArgArray">
          <tr data-bind="foreach: $data">
            <td>
              <small data-bind="text: $data"></small>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
      <!-- /ko -->
    </div>
  </div>
</script>

<script type="text/html" id="stepGroupTemplate">
  <div class="step-group">
    <div class="title hover hover-highlighted">
      <div class="icons">
        <div class="icon-column">
          <i class="icon-ban-circle text-error" data-bind="visible: missingChildMethods "></i>
        </div>
      </div>
      <div class="name">
        <a class="accordion-toggle collapsed" data-toggle="collapse" href="javascript:void();"
           data-bind="attr: { 'data-target': '#' + id }">
          <span data-bind="text: name, css: { 'text-error': missingChildMethods }"></span>
          (<span data-bind="text: used, attr: {title: 'Used ' + used + ' times'}"></span>)
        </a>
      </div>
    </div>
    <div class="body collapse"
         data-bind="attr: { id: id }">
      <div class="steps" data-bind="template: { name: 'stepTemplate', foreach: steps }">
      </div>
    </div>
  </div>
</script>

<script type="text/javascript">
  $(document).ready(function () {
    require.config({ baseUrl: "" });
    require(["gherkinRunner"/*, "../GherkinRunnerConfiguration?noExt"*/], function (gherkinRunner, config) {
      //$.restfulBreeze.setRootUrl(config.apiUrl);
      gherkinRunner.addFeaturesFromUrl();
      //gherkinRunner.config = config;
      gherkinRunner.walk();
    });
  });
</script>
</body>
</html>
